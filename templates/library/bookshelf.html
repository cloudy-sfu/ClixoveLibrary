<form>
    <div style="overflow-x: auto;">
        <table class="table table-borderless table-hover">
            <caption class="caption-top">
                My Documents
            </caption>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Labels</th>
                    <th>Name</th>
                    <th>Size</th>
                </tr>
            </thead>
            <tbody>
                {% for paper in Papers %}
                <tr>
                    <td>
                        <label><input type="checkbox" class="form-check-input" name="papers" value="{{ paper.id }}" /></label>
                    </td>
                    <td>{% for lb in paper.labels.all %} {{ lb.name }}; {% endfor %}</td>
                    <td>
                        <a href="{{ paper.file.url }}" class="text-dark">{{ paper.filename }}</a>
                    </td>
                    <td>{{ paper.file.size | filesizeformat }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <input type="reset" class="btn btn-light mb-1" value="❌" />
    <input type="button" onclick="check_all('papers')" value="✔" class="btn btn-light mb-1" />
</form>

<!-- Advance function module -->
<button type="button" class="btn btn-outline-danger mb-1" data-bs-toggle="modal" data-bs-target="#deletePaper"
        onclick="copy_selected_instances('papers', 'delete-paper-signal')">
    Delete Paper
</button>
<button type="button" class="btn btn-outline-success mb-1" data-bs-toggle="modal" data-bs-target="#newPaper">
    Add Paper
</button>
<button type="button" class="btn btn-outline-primary mb-1" data-bs-toggle="modal" data-bs-target="#changeLabel"
        onclick="copy_selected_instances('papers', 'change-label-signal')">
    Change Label
</button>
<button type="button" class="btn btn-outline-primary mb-1" data-bs-toggle="modal" data-bs-target="#share"
        onclick="copy_selected_instances('papers', 'share-signal')">
    Share
</button>

<!-- Submission module -->
<div class="modal fade" id="deletePaper" tabindex="-1" aria-labelledby="deletePaperLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <strong class="modal-title" id="deletePaperLabel">Delete</strong>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="/library/delete-paper" method="post" enctype="multipart/form-data">
                <div class="modal-body">
                    <p>Are you sure to delete these papers?</p>
                    <div id="delete-paper-signal" hidden></div>
                </div>
                <div class="modal-footer">
                    <input type="submit" class="btn btn-danger" value="Yes" />
                </div>
            </form>
        </div>
    </div>
</div>
<div class="modal fade" id="newPaper" tabindex="-1" aria-labelledby="newPaperLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <strong class="modal-title" id="newPaperLabel">New Paper</strong>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="/library/add-paper" method="post" enctype="multipart/form-data">
                <div class="modal-body">
                    {{ AddPaper.as_p }}
                </div>
                <div class="modal-footer">
                    <input type="submit" class="btn btn-success" value="Add" />
                </div>
            </form>
        </div>
    </div>
</div>
<div class="modal fade" id="changeLabel" tabindex="-1" aria-labelledby="changeLabelModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <strong class="modal-title" id="changeLabelModal">Change Label</strong>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="/library/change-label" method="post" enctype="multipart/form-data">
                <div class="modal-body">
                    {{ ChangeLabel.as_p }}
                    <div id="change-label-signal" hidden></div>
                </div>
                <div class="modal-footer">
                    <input type="submit" class="btn btn-success" value="Yes" />
                </div>
            </form>
        </div>
    </div>
</div>
<div class="modal fade" id="share" tabindex="-1" aria-labelledby="shareModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <strong class="modal-title" id="shareModal">Share</strong>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="/share/add-link" method="post" enctype="multipart/form-data">
                <div class="modal-body">
                    <p>Are you sure to share these papers?</p>
                    <div id="share-signal" hidden></div>
                </div>
                <div class="modal-footer">
                    <input type="submit" class="btn btn-success" value="Yes" />
                </div>
            </form>
        </div>
    </div>
</div>
